{"identifier":{"url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerSmsNumber:","interfaceLanguage":"occ"},"kind":"symbol","variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/registersmsnumber:"]}],"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"metadata":{"externalID":"c:objc(pl)PWConfiguration(cm)registerSmsNumber:","symbolKind":"method","fragments":[{"kind":"text","text":"+ "},{"kind":"identifier","text":"registerSmsNumber:"}],"navigatorTitle":[{"kind":"identifier","text":"registerSmsNumber:"}],"role":"symbol","modules":[{"name":"PushwooshCore"}],"title":"registerSmsNumber:","roleHeading":"Type Method"},"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"+ (","kind":"text"},{"kind":"typeIdentifier","text":"void","preciseIdentifier":"c:v"},{"text":") ","kind":"text"},{"kind":"identifier","text":"registerSmsNumber:"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"NSString","preciseIdentifier":"c:objc(cs)NSString"},{"text":" *) ","kind":"text"},{"text":"number","kind":"internalParam"},{"text":";","kind":"text"}],"platforms":["iOS"],"languages":["occ"]}]},{"parameters":[{"name":"number","content":[{"inlineContent":[{"text":"The phone number in E.164 international format.","type":"text"}],"type":"paragraph"}]}],"kind":"parameters"},{"kind":"content","content":[{"level":2,"anchor":"discussion","type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"text":"Associates a phone number with the current device for SMS marketing campaigns.","type":"text"},{"text":" ","type":"text"},{"text":"This enables omnichannel messaging where users can receive communications via","type":"text"},{"text":" ","type":"text"},{"text":"both push notifications and SMS.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"The phone number must be in E.164 international format:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Start with ‘+’ followed by country code","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"No spaces, dashes, or parentheses"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Examples: “+14155551234” (US), “+447911123456” (UK), “+491711234567” (Germany)"}],"type":"paragraph"}]}]},{"text":"Example","anchor":"Example","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"Register SMS during phone verification flow:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["class PhoneVerificationController {","","    func verifyPhoneNumber(_ phoneNumber: String, code: String,","                          completion: @escaping (Result<Void, Error>) -> Void) {","","        APIClient.shared.verifyCode(phone: phoneNumber, code: code) { [weak self] result in","            switch result {","            case .success:","                let normalizedNumber = self?.normalizeToE164(phoneNumber) ?? phoneNumber","                Pushwoosh.configure.registerSmsNumber(normalizedNumber)","","                Pushwoosh.configure.setTags([","                    \"phone_verified\": true,","                    \"sms_opted_in\": true,","                    \"phone_country\": self?.extractCountryCode(from: normalizedNumber) ?? \"\"","                ])","","                completion(.success(()))","","            case .failure(let error):","                completion(.failure(error))","            }","        }","    }","","    private func normalizeToE164(_ phone: String) -> String {","        let digits = phone.components(separatedBy: CharacterSet.decimalDigits.inverted).joined()","        return phone.hasPrefix(\"+\") ? \"+\\(digits)\" : \"+1\\(digits)\"","    }","","    private func extractCountryCode(from e164: String) -> String {","        \/\/ Extract country code from E.164 format","        guard e164.hasPrefix(\"+\") else { return \"\" }","        let countryCodeLength = e164.count > 12 ? 2 : (e164.count > 11 ? 1 : 1)","        return String(e164.dropFirst().prefix(countryCodeLength))","    }","}"]}]}],"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"abstract":[{"text":"Registers an SMS number for SMS messaging campaigns.","type":"text"}],"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"title":"PushwooshCore","url":"\/documentation\/pushwooshcore","kind":"symbol","role":"collection","type":"topic","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"url":"\/documentation\/pushwooshcore\/pwconfiguration","title":"PWConfiguration","abstract":[],"fragments":[{"text":"PWConfiguration","kind":"identifier"}],"kind":"symbol","type":"topic","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration","role":"symbol"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/registerSmsNumber:":{"navigatorTitle":[{"text":"registerSmsNumber:","kind":"identifier"}],"type":"topic","url":"\/documentation\/pushwooshcore\/pwconfiguration\/registersmsnumber:","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerSmsNumber:","abstract":[{"text":"Registers an SMS number for SMS messaging campaigns.","type":"text"}],"role":"symbol","title":"registerSmsNumber:","kind":"symbol","fragments":[{"text":"+ ","kind":"text"},{"kind":"identifier","text":"registerSmsNumber:"}]}}}
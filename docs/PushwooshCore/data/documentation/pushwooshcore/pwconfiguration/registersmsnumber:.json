{"kind":"symbol","sections":[],"metadata":{"title":"registerSmsNumber:","symbolKind":"method","externalID":"c:objc(pl)PWConfiguration(cm)registerSmsNumber:","role":"symbol","modules":[{"name":"PushwooshCore"}],"navigatorTitle":[{"text":"registerSmsNumber:","kind":"identifier"}],"roleHeading":"Type Method","fragments":[{"text":"+ ","kind":"text"},{"text":"registerSmsNumber:","kind":"identifier"}]},"identifier":{"interfaceLanguage":"occ","url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerSmsNumber:"},"abstract":[{"text":"Registers an SMS number for SMS messaging campaigns.","type":"text"}],"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/registersmsnumber:"]}],"primaryContentSections":[{"declarations":[{"platforms":["iOS"],"languages":["occ"],"tokens":[{"text":"+ (","kind":"text"},{"text":"void","kind":"typeIdentifier","preciseIdentifier":"c:v"},{"text":") ","kind":"text"},{"kind":"identifier","text":"registerSmsNumber:"},{"kind":"text","text":"("},{"text":"NSString","kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSString"},{"kind":"text","text":" *) "},{"kind":"internalParam","text":"number"},{"kind":"text","text":";"}]}],"kind":"declarations"},{"parameters":[{"content":[{"inlineContent":[{"text":"The phone number in E.164 international format.","type":"text"}],"type":"paragraph"}],"name":"number"}],"kind":"parameters"},{"kind":"content","content":[{"type":"heading","text":"Discussion","level":2,"anchor":"discussion"},{"inlineContent":[{"text":"Associates a phone number with the current device for SMS marketing campaigns.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This enables omnichannel messaging where users can receive communications via"},{"type":"text","text":" "},{"text":"both push notifications and SMS.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The phone number must be in E.164 international format:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Start with ‘+’ followed by country code","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"No spaces, dashes, or parentheses","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Examples: “+14155551234” (US), “+447911123456” (UK), “+491711234567” (Germany)"}]}]}],"type":"unorderedList"},{"text":"Example","type":"heading","level":2,"anchor":"Example"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Register SMS during phone verification flow:"}]},{"syntax":"swift","type":"codeListing","code":["class PhoneVerificationController {","","    func verifyPhoneNumber(_ phoneNumber: String, code: String,","                          completion: @escaping (Result<Void, Error>) -> Void) {","","        APIClient.shared.verifyCode(phone: phoneNumber, code: code) { [weak self] result in","            switch result {","            case .success:","                let normalizedNumber = self?.normalizeToE164(phoneNumber) ?? phoneNumber","                Pushwoosh.configure.registerSmsNumber(normalizedNumber)","","                Pushwoosh.configure.setTags([","                    \"phone_verified\": true,","                    \"sms_opted_in\": true,","                    \"phone_country\": self?.extractCountryCode(from: normalizedNumber) ?? \"\"","                ])","","                completion(.success(()))","","            case .failure(let error):","                completion(.failure(error))","            }","        }","    }","","    private func normalizeToE164(_ phone: String) -> String {","        let digits = phone.components(separatedBy: CharacterSet.decimalDigits.inverted).joined()","        return phone.hasPrefix(\"+\") ? \"+\\(digits)\" : \"+1\\(digits)\"","    }","","    private func extractCountryCode(from e164: String) -> String {","        \/\/ Extract country code from E.164 format","        guard e164.hasPrefix(\"+\") else { return \"\" }","        let countryCodeLength = e164.count > 12 ? 2 : (e164.count > 11 ? 1 : 1)","        return String(e164.dropFirst().prefix(countryCodeLength))","    }","}"]}]}],"schemaVersion":{"minor":3,"major":0,"patch":0},"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/registerSmsNumber:":{"fragments":[{"kind":"text","text":"+ "},{"kind":"identifier","text":"registerSmsNumber:"}],"title":"registerSmsNumber:","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerSmsNumber:","url":"\/documentation\/pushwooshcore\/pwconfiguration\/registersmsnumber:","type":"topic","role":"symbol","kind":"symbol","navigatorTitle":[{"text":"registerSmsNumber:","kind":"identifier"}],"abstract":[{"text":"Registers an SMS number for SMS messaging campaigns.","type":"text"}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"role":"collection","url":"\/documentation\/pushwooshcore","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","type":"topic","kind":"symbol","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"type":"topic","kind":"symbol","abstract":[],"title":"PWConfiguration","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration","role":"symbol","url":"\/documentation\/pushwooshcore\/pwconfiguration"}}}
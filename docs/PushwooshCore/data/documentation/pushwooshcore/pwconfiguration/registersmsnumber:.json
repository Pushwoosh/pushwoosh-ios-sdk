{"metadata":{"modules":[{"name":"PushwooshCore"}],"symbolKind":"method","roleHeading":"Type Method","navigatorTitle":[{"text":"registerSmsNumber:","kind":"identifier"}],"role":"symbol","fragments":[{"text":"+ ","kind":"text"},{"text":"registerSmsNumber:","kind":"identifier"}],"title":"registerSmsNumber:","externalID":"c:objc(pl)PWConfiguration(cm)registerSmsNumber:"},"primaryContentSections":[{"declarations":[{"languages":["occ"],"tokens":[{"kind":"text","text":"+ ("},{"kind":"typeIdentifier","preciseIdentifier":"c:v","text":"void"},{"text":") ","kind":"text"},{"text":"registerSmsNumber:","kind":"identifier"},{"kind":"text","text":"("},{"text":"NSString","kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSString"},{"text":" *) ","kind":"text"},{"text":"number","kind":"internalParam"},{"text":";","kind":"text"}],"platforms":["iOS"]}],"kind":"declarations"},{"kind":"parameters","parameters":[{"name":"number","content":[{"inlineContent":[{"text":"The phone number in E.164 international format.","type":"text"}],"type":"paragraph"}]}]},{"kind":"content","content":[{"level":2,"text":"Discussion","anchor":"discussion","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Associates a phone number with the current device for SMS marketing campaigns."},{"type":"text","text":" "},{"type":"text","text":"This enables omnichannel messaging where users can receive communications via"},{"type":"text","text":" "},{"type":"text","text":"both push notifications and SMS."}]},{"type":"paragraph","inlineContent":[{"text":"The phone number must be in E.164 international format:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Start with ‘+’ followed by country code"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"No spaces, dashes, or parentheses","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Examples: “+14155551234” (US), “+447911123456” (UK), “+491711234567” (Germany)"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":2,"anchor":"Example","text":"Example","type":"heading"},{"inlineContent":[{"text":"Register SMS during phone verification flow:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["class PhoneVerificationController {","","    func verifyPhoneNumber(_ phoneNumber: String, code: String,","                          completion: @escaping (Result<Void, Error>) -> Void) {","","        APIClient.shared.verifyCode(phone: phoneNumber, code: code) { [weak self] result in","            switch result {","            case .success:","                let normalizedNumber = self?.normalizeToE164(phoneNumber) ?? phoneNumber","                Pushwoosh.configure.registerSmsNumber(normalizedNumber)","","                Pushwoosh.configure.setTags([","                    \"phone_verified\": true,","                    \"sms_opted_in\": true,","                    \"phone_country\": self?.extractCountryCode(from: normalizedNumber) ?? \"\"","                ])","","                completion(.success(()))","","            case .failure(let error):","                completion(.failure(error))","            }","        }","    }","","    private func normalizeToE164(_ phone: String) -> String {","        let digits = phone.components(separatedBy: CharacterSet.decimalDigits.inverted).joined()","        return phone.hasPrefix(\"+\") ? \"+\\(digits)\" : \"+1\\(digits)\"","    }","","    private func extractCountryCode(from e164: String) -> String {","        \/\/ Extract country code from E.164 format","        guard e164.hasPrefix(\"+\") else { return \"\" }","        let countryCodeLength = e164.count > 12 ? 2 : (e164.count > 11 ? 1 : 1)","        return String(e164.dropFirst().prefix(countryCodeLength))","    }","}"]}]}],"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"variants":[{"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/registersmsnumber:"],"traits":[{"interfaceLanguage":"occ"}]}],"sections":[],"schemaVersion":{"minor":3,"major":0,"patch":0},"kind":"symbol","abstract":[{"text":"Registers an SMS number for SMS messaging campaigns.","type":"text"}],"identifier":{"interfaceLanguage":"occ","url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerSmsNumber:"},"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/registerSmsNumber:":{"url":"\/documentation\/pushwooshcore\/pwconfiguration\/registersmsnumber:","abstract":[{"type":"text","text":"Registers an SMS number for SMS messaging campaigns."}],"kind":"symbol","title":"registerSmsNumber:","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerSmsNumber:","navigatorTitle":[{"text":"registerSmsNumber:","kind":"identifier"}],"role":"symbol","fragments":[{"text":"+ ","kind":"text"},{"text":"registerSmsNumber:","kind":"identifier"}],"type":"topic"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"kind":"symbol","title":"PWConfiguration","role":"symbol","type":"topic","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"url":"\/documentation\/pushwooshcore\/pwconfiguration","abstract":[],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"type":"topic","role":"collection","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}],"url":"\/documentation\/pushwooshcore","kind":"symbol","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore"}}}
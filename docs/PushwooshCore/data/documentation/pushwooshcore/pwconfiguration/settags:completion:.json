{"variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/settags:completion:"]}],"kind":"symbol","metadata":{"fragments":[{"text":"+ ","kind":"text"},{"text":"setTags:completion:","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"setTags:completion:"}],"modules":[{"name":"PushwooshCore"}],"title":"setTags:completion:","roleHeading":"Type Method","externalID":"c:objc(pl)PWConfiguration(cm)setTags:completion:","role":"symbol","symbolKind":"method"},"sections":[],"identifier":{"interfaceLanguage":"occ","url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setTags:completion:"},"abstract":[{"type":"text","text":"Sets user tags with a completion handler for confirmation."}],"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"primaryContentSections":[{"declarations":[{"platforms":["iOS"],"tokens":[{"kind":"text","text":"+ ("},{"text":"void","preciseIdentifier":"c:v","kind":"typeIdentifier"},{"kind":"text","text":") "},{"text":"setTags:","kind":"identifier"},{"text":"(","kind":"text"},{"preciseIdentifier":"c:objc(cs)NSDictionary","text":"NSDictionary","kind":"typeIdentifier"},{"kind":"text","text":" *) "},{"text":"tags","kind":"internalParam"},{"text":" ","kind":"text"},{"kind":"identifier","text":"completion:"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:v","text":"void"},{"text":" (^","kind":"text"},{"text":")(","kind":"text"},{"kind":"typeIdentifier","text":"NSError","preciseIdentifier":"c:objc(cs)NSError"},{"kind":"text","text":" * "},{"text":"error","kind":"internalParam"},{"kind":"text","text":")) "},{"text":"completion","kind":"internalParam"},{"kind":"text","text":";"}],"languages":["occ"]}],"kind":"declarations"},{"parameters":[{"name":"tags","content":[{"inlineContent":[{"text":"Dictionary of tag names and values to set for the current device.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Supported value types: NSString, NSNumber, NSArray (for list tags), NSNull (to delete)."}],"type":"paragraph"}]},{"name":"completion","content":[{"inlineContent":[{"type":"text","text":"Block called when the operation completes."},{"text":" ","type":"text"},{"text":"Receives nil on success, or an NSError describing the failure.","type":"text"}],"type":"paragraph"}]}],"kind":"parameters"},{"kind":"content","content":[{"level":2,"text":"Discussion","anchor":"discussion","type":"heading"},{"inlineContent":[{"text":"Similar to ","type":"text"},{"type":"codeVoice","code":"setTags:"},{"type":"text","text":" but provides feedback when the operation completes."},{"text":" ","type":"text"},{"text":"Use this when you need to:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Confirm tags were successfully set before proceeding"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Implement retry logic on failure","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Update UI based on tag update status","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Chain multiple operations that depend on tag updates"}],"type":"paragraph"}]}]},{"text":"Example","anchor":"Example","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"text":"Update subscription status with confirmation and retry:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["class SubscriptionManager {","","    private let maxRetries = 3","","    func updateSubscriptionStatus(_ subscription: Subscription,","                                  completion: @escaping (Result<Void, Error>) -> Void) {","        updateWithRetry(subscription: subscription, attempt: 1, completion: completion)","    }","","    private func updateWithRetry(subscription: Subscription, attempt: Int,","                                 completion: @escaping (Result<Void, Error>) -> Void) {","","        let tags: [String: Any] = [","            \"subscription_tier\": subscription.tier.rawValue,","            \"subscription_status\": subscription.isActive ? \"active\" : \"expired\",","            \"subscription_expiry\": ISO8601DateFormatter().string(from: subscription.expiryDate),","            \"is_premium\": subscription.tier != .free,","            \"features_enabled\": subscription.enabledFeatures.map { $0.rawValue }","        ]","","        Pushwoosh.configure.setTags(tags) { [weak self] error in","            if let error = error {","                if attempt < (self?.maxRetries ?? 3) {","                    let delay = Double(attempt) * 2.0","                    DispatchQueue.main.asyncAfter(deadline: .now() + delay) {","                        self?.updateWithRetry(subscription: subscription,","                                             attempt: attempt + 1,","                                             completion: completion)","                    }","                } else {","                    completion(.failure(error))","                }","                return","            }","","            Analytics.track(\"subscription_tags_updated\", properties: [","                \"tier\": subscription.tier.rawValue","            ])","            completion(.success(()))","        }","    }","}"]}]}],"schemaVersion":{"patch":0,"minor":3,"major":0},"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/setTags:completion:":{"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setTags:completion:","url":"\/documentation\/pushwooshcore\/pwconfiguration\/settags:completion:","role":"symbol","fragments":[{"text":"+ ","kind":"text"},{"text":"setTags:completion:","kind":"identifier"}],"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"setTags:completion:"}],"type":"topic","title":"setTags:completion:","abstract":[{"type":"text","text":"Sets user tags with a completion handler for confirmation."}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"role":"collection","url":"\/documentation\/pushwooshcore","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","type":"topic","kind":"symbol","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"type":"topic","kind":"symbol","abstract":[],"title":"PWConfiguration","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration","role":"symbol","url":"\/documentation\/pushwooshcore\/pwconfiguration"}}}
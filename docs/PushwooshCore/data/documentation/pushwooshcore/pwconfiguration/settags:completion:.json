{"abstract":[{"text":"Sets user tags with a completion handler for confirmation.","type":"text"}],"kind":"symbol","schemaVersion":{"minor":3,"major":0,"patch":0},"sections":[],"identifier":{"interfaceLanguage":"occ","url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setTags:completion:"},"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"text","text":"+ ("},{"kind":"typeIdentifier","preciseIdentifier":"c:v","text":"void"},{"text":") ","kind":"text"},{"kind":"identifier","text":"setTags:"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","text":"NSDictionary","preciseIdentifier":"c:objc(cs)NSDictionary"},{"text":" *) ","kind":"text"},{"kind":"internalParam","text":"tags"},{"kind":"text","text":" "},{"text":"completion:","kind":"identifier"},{"text":"(","kind":"text"},{"preciseIdentifier":"c:v","kind":"typeIdentifier","text":"void"},{"kind":"text","text":" (^"},{"text":")(","kind":"text"},{"preciseIdentifier":"c:objc(cs)NSError","text":"NSError","kind":"typeIdentifier"},{"text":" * ","kind":"text"},{"text":"error","kind":"internalParam"},{"kind":"text","text":")) "},{"kind":"internalParam","text":"completion"},{"kind":"text","text":";"}],"languages":["occ"],"platforms":["iOS"]}]},{"kind":"parameters","parameters":[{"name":"tags","content":[{"inlineContent":[{"type":"text","text":"Dictionary of tag names and values to set for the current device."},{"text":" ","type":"text"},{"text":"Supported value types: NSString, NSNumber, NSArray (for list tags), NSNull (to delete).","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Block called when the operation completes.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Receives nil on success, or an NSError describing the failure."}],"type":"paragraph"}],"name":"completion"}]},{"content":[{"text":"Discussion","type":"heading","level":2,"anchor":"discussion"},{"type":"paragraph","inlineContent":[{"text":"Similar to ","type":"text"},{"type":"codeVoice","code":"setTags:"},{"type":"text","text":" but provides feedback when the operation completes."},{"text":" ","type":"text"},{"text":"Use this when you need to:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Confirm tags were successfully set before proceeding"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implement retry logic on failure"}]}]},{"content":[{"inlineContent":[{"text":"Update UI based on tag update status","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Chain multiple operations that depend on tag updates","type":"text"}]}]}],"type":"unorderedList"},{"anchor":"Example","type":"heading","level":2,"text":"Example"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Update subscription status with confirmation and retry:"}]},{"code":["class SubscriptionManager {","","    private let maxRetries = 3","","    func updateSubscriptionStatus(_ subscription: Subscription,","                                  completion: @escaping (Result<Void, Error>) -> Void) {","        updateWithRetry(subscription: subscription, attempt: 1, completion: completion)","    }","","    private func updateWithRetry(subscription: Subscription, attempt: Int,","                                 completion: @escaping (Result<Void, Error>) -> Void) {","","        let tags: [String: Any] = [","            \"subscription_tier\": subscription.tier.rawValue,","            \"subscription_status\": subscription.isActive ? \"active\" : \"expired\",","            \"subscription_expiry\": ISO8601DateFormatter().string(from: subscription.expiryDate),","            \"is_premium\": subscription.tier != .free,","            \"features_enabled\": subscription.enabledFeatures.map { $0.rawValue }","        ]","","        Pushwoosh.configure.setTags(tags) { [weak self] error in","            if let error = error {","                if attempt < (self?.maxRetries ?? 3) {","                    let delay = Double(attempt) * 2.0","                    DispatchQueue.main.asyncAfter(deadline: .now() + delay) {","                        self?.updateWithRetry(subscription: subscription,","                                             attempt: attempt + 1,","                                             completion: completion)","                    }","                } else {","                    completion(.failure(error))","                }","                return","            }","","            Analytics.track(\"subscription_tags_updated\", properties: [","                \"tier\": subscription.tier.rawValue","            ])","            completion(.success(()))","        }","    }","}"],"type":"codeListing","syntax":"swift"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/settags:completion:"],"traits":[{"interfaceLanguage":"occ"}]}],"metadata":{"modules":[{"name":"PushwooshCore"}],"fragments":[{"text":"+ ","kind":"text"},{"text":"setTags:completion:","kind":"identifier"}],"navigatorTitle":[{"text":"setTags:completion:","kind":"identifier"}],"roleHeading":"Type Method","symbolKind":"method","externalID":"c:objc(pl)PWConfiguration(cm)setTags:completion:","title":"setTags:completion:","role":"symbol"},"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/setTags:completion:":{"fragments":[{"text":"+ ","kind":"text"},{"kind":"identifier","text":"setTags:completion:"}],"kind":"symbol","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setTags:completion:","navigatorTitle":[{"kind":"identifier","text":"setTags:completion:"}],"type":"topic","url":"\/documentation\/pushwooshcore\/pwconfiguration\/settags:completion:","abstract":[{"text":"Sets user tags with a completion handler for confirmation.","type":"text"}],"title":"setTags:completion:","role":"symbol"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"kind":"symbol","title":"PWConfiguration","role":"symbol","type":"topic","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"url":"\/documentation\/pushwooshcore\/pwconfiguration","abstract":[],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"type":"topic","role":"collection","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}],"url":"\/documentation\/pushwooshcore","kind":"symbol","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore"}}}
{"kind":"symbol","variants":[{"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/settags:completion:"],"traits":[{"interfaceLanguage":"occ"}]}],"metadata":{"role":"symbol","externalID":"c:objc(pl)PWConfiguration(cm)setTags:completion:","symbolKind":"method","title":"setTags:completion:","navigatorTitle":[{"text":"setTags:completion:","kind":"identifier"}],"fragments":[{"text":"+ ","kind":"text"},{"kind":"identifier","text":"setTags:completion:"}],"roleHeading":"Type Method","modules":[{"name":"PushwooshCore"}]},"abstract":[{"type":"text","text":"Sets user tags with a completion handler for confirmation."}],"sections":[],"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"identifier":{"url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setTags:completion:","interfaceLanguage":"occ"},"schemaVersion":{"patch":0,"major":0,"minor":3},"primaryContentSections":[{"declarations":[{"tokens":[{"text":"+ (","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:v","text":"void"},{"kind":"text","text":") "},{"text":"setTags:","kind":"identifier"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"NSDictionary","preciseIdentifier":"c:objc(cs)NSDictionary"},{"text":" *) ","kind":"text"},{"kind":"internalParam","text":"tags"},{"text":" ","kind":"text"},{"kind":"identifier","text":"completion:"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"void","preciseIdentifier":"c:v"},{"kind":"text","text":" (^"},{"kind":"text","text":")("},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSError","text":"NSError"},{"kind":"text","text":" * "},{"kind":"internalParam","text":"error"},{"kind":"text","text":")) "},{"kind":"internalParam","text":"completion"},{"text":";","kind":"text"}],"languages":["occ"],"platforms":["iOS"]}],"kind":"declarations"},{"parameters":[{"content":[{"inlineContent":[{"type":"text","text":"Dictionary of tag names and values to set for the current device."},{"type":"text","text":" "},{"text":"Supported value types: NSString, NSNumber, NSArray (for list tags), NSNull (to delete).","type":"text"}],"type":"paragraph"}],"name":"tags"},{"content":[{"inlineContent":[{"type":"text","text":"Block called when the operation completes."},{"type":"text","text":" "},{"type":"text","text":"Receives nil on success, or an NSError describing the failure."}],"type":"paragraph"}],"name":"completion"}],"kind":"parameters"},{"content":[{"level":2,"text":"Discussion","anchor":"discussion","type":"heading"},{"inlineContent":[{"type":"text","text":"Similar to "},{"type":"codeVoice","code":"setTags:"},{"type":"text","text":" but provides feedback when the operation completes."},{"type":"text","text":" "},{"text":"Use this when you need to:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Confirm tags were successfully set before proceeding"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Implement retry logic on failure","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Update UI based on tag update status"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Chain multiple operations that depend on tag updates"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":2,"text":"Example","anchor":"Example","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Update subscription status with confirmation and retry:"}]},{"code":["class SubscriptionManager {","","    private let maxRetries = 3","","    func updateSubscriptionStatus(_ subscription: Subscription,","                                  completion: @escaping (Result<Void, Error>) -> Void) {","        updateWithRetry(subscription: subscription, attempt: 1, completion: completion)","    }","","    private func updateWithRetry(subscription: Subscription, attempt: Int,","                                 completion: @escaping (Result<Void, Error>) -> Void) {","","        let tags: [String: Any] = [","            \"subscription_tier\": subscription.tier.rawValue,","            \"subscription_status\": subscription.isActive ? \"active\" : \"expired\",","            \"subscription_expiry\": ISO8601DateFormatter().string(from: subscription.expiryDate),","            \"is_premium\": subscription.tier != .free,","            \"features_enabled\": subscription.enabledFeatures.map { $0.rawValue }","        ]","","        Pushwoosh.configure.setTags(tags) { [weak self] error in","            if let error = error {","                if attempt < (self?.maxRetries ?? 3) {","                    let delay = Double(attempt) * 2.0","                    DispatchQueue.main.asyncAfter(deadline: .now() + delay) {","                        self?.updateWithRetry(subscription: subscription,","                                             attempt: attempt + 1,","                                             completion: completion)","                    }","                } else {","                    completion(.failure(error))","                }","                return","            }","","            Analytics.track(\"subscription_tags_updated\", properties: [","                \"tier\": subscription.tier.rawValue","            ])","            completion(.success(()))","        }","    }","}"],"syntax":"swift","type":"codeListing"}],"kind":"content"}],"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"url":"\/documentation\/pushwooshcore\/pwconfiguration","title":"PWConfiguration","abstract":[],"fragments":[{"text":"PWConfiguration","kind":"identifier"}],"kind":"symbol","type":"topic","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration","role":"symbol"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/setTags:completion:":{"role":"symbol","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setTags:completion:","type":"topic","abstract":[{"text":"Sets user tags with a completion handler for confirmation.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"setTags:completion:"}],"title":"setTags:completion:","kind":"symbol","url":"\/documentation\/pushwooshcore\/pwconfiguration\/settags:completion:","fragments":[{"text":"+ ","kind":"text"},{"text":"setTags:completion:","kind":"identifier"}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"title":"PushwooshCore","url":"\/documentation\/pushwooshcore","kind":"symbol","role":"collection","type":"topic","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}]}}}
{"variants":[{"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/getpushtoken"],"traits":[{"interfaceLanguage":"occ"}]}],"identifier":{"interfaceLanguage":"occ","url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/getPushToken"},"kind":"symbol","hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"abstract":[{"type":"text","text":"Retrieves the current device push token."}],"metadata":{"fragments":[{"text":"+ ","kind":"text"},{"text":"getPushToken","kind":"identifier"}],"modules":[{"name":"PushwooshCore"}],"role":"symbol","roleHeading":"Type Method","navigatorTitle":[{"kind":"identifier","text":"getPushToken"}],"externalID":"c:objc(pl)PWConfiguration(cm)getPushToken","title":"getPushToken","symbolKind":"method"},"schemaVersion":{"patch":0,"major":0,"minor":3},"primaryContentSections":[{"declarations":[{"platforms":["iOS"],"tokens":[{"text":"+ (","kind":"text"},{"text":"NSString","preciseIdentifier":"c:objc(cs)NSString","kind":"typeIdentifier"},{"text":" *) ","kind":"text"},{"kind":"identifier","text":"getPushToken"},{"text":";","kind":"text"}],"languages":["occ"]}],"kind":"declarations"},{"kind":"content","content":[{"level":2,"type":"heading","text":"Return Value","anchor":"return-value"},{"type":"paragraph","inlineContent":[{"text":"The device push token as a hexadecimal string, or nil if not yet registered","type":"text"}]}]},{"content":[{"type":"heading","anchor":"discussion","text":"Discussion","level":2},{"inlineContent":[{"type":"text","text":"Returns the APNs device token as a hexadecimal string. The token is used by Appleâ€™s"},{"text":" ","type":"text"},{"text":"Push Notification service to deliver notifications to this specific device.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"The push token becomes available after:","type":"text"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Calling "},{"type":"codeVoice","code":"registerForPushNotifications"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"User granting notification permission"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Successful registration with APNs"}]}]}]},{"text":"Example","anchor":"Example","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Send push token to your backend for server-side notifications:"}]},{"code":["class PushTokenManager {","","    func syncPushTokenIfNeeded() {","        guard let pushToken = Pushwoosh.configure.getPushToken() else {","            Logger.debug(\"Push token not available yet\")","            return","        }","","        \/\/ Check if token has changed since last sync","        let lastSyncedToken = UserDefaults.standard.string(forKey: \"lastSyncedPushToken\")","        guard pushToken != lastSyncedToken else {","            return \/\/ Token unchanged, no need to sync","        }","","        let hwid = Pushwoosh.configure.getHWID()","","        APIClient.shared.post(\"\/api\/push-tokens\", body: [","            \"hwid\": hwid,","            \"pushToken\": pushToken,","            \"platform\": \"ios\"","        ]) { result in","            if case .success = result {","                UserDefaults.standard.set(pushToken, forKey: \"lastSyncedPushToken\")","                Logger.info(\"Push token synced successfully\")","            }","        }","    }","}"],"syntax":"swift","type":"codeListing"}],"kind":"content"}],"sections":[],"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"type":"topic","role":"collection","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}],"url":"\/documentation\/pushwooshcore","kind":"symbol","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/getPushToken":{"url":"\/documentation\/pushwooshcore\/pwconfiguration\/getpushtoken","abstract":[{"type":"text","text":"Retrieves the current device push token."}],"kind":"symbol","title":"getPushToken","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/getPushToken","navigatorTitle":[{"text":"getPushToken","kind":"identifier"}],"role":"symbol","fragments":[{"text":"+ ","kind":"text"},{"text":"getPushToken","kind":"identifier"}],"type":"topic"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"kind":"symbol","title":"PWConfiguration","role":"symbol","type":"topic","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"url":"\/documentation\/pushwooshcore\/pwconfiguration","abstract":[],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"}}}
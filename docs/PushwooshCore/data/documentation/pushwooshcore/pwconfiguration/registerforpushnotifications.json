{"sections":[],"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/registerforpushnotifications"]}],"identifier":{"url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerForPushNotifications","interfaceLanguage":"occ"},"abstract":[{"text":"Registers the device for push notifications.","type":"text"}],"kind":"symbol","schemaVersion":{"minor":3,"patch":0,"major":0},"primaryContentSections":[{"declarations":[{"platforms":["iOS"],"tokens":[{"text":"+ (","kind":"text"},{"preciseIdentifier":"c:v","text":"void","kind":"typeIdentifier"},{"kind":"text","text":") "},{"text":"registerForPushNotifications","kind":"identifier"},{"text":";","kind":"text"}],"languages":["occ"]}],"kind":"declarations"},{"content":[{"text":"Discussion","anchor":"discussion","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"This method initiates the push notification registration process:"}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Requests user permission to display notifications (alert, badge, sound)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Registers the device with Apple Push Notification service (APNs)","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Sends the device token to Pushwoosh servers"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"The permission dialog is shown only once per app installation. If the user denies permission,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"subsequent calls will not show the dialog. Users must manually enable notifications in Settings."}],"type":"paragraph"},{"type":"heading","text":"Example","level":2,"anchor":"Example"},{"inlineContent":[{"type":"text","text":"Standard registration in AppDelegate:"}],"type":"paragraph"},{"code":["class AppDelegate: UIResponder, UIApplicationDelegate, PWMessagingDelegate {","","    func application(_ application: UIApplication,","                    didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {","","        \/\/ Configure delegate first to receive callbacks","        Pushwoosh.configure.setDelegate(self)","","        \/\/ Enable foreground notification display","        Pushwoosh.configure.setShowPushnotificationAlert(true)","","        \/\/ Register for push notifications","        Pushwoosh.configure.registerForPushNotifications()","","        return true","    }","","    \/\/ MARK: - PWMessagingDelegate","","    func pushwoosh(_ pushwoosh: Pushwoosh, onMessageReceived message: PWMessage) {","        Logger.info(\"Push received: \\(message.title ?? \"No title\")\")","","        \/\/ Handle silent push or update UI","        if message.isContentAvailable {","            performBackgroundFetch()","        }","    }","","    func pushwoosh(_ pushwoosh: Pushwoosh, onMessageOpened message: PWMessage) {","        Logger.info(\"Push opened: \\(message.title ?? \"No title\")\")","","        \/\/ Handle deep link if present","        if let link = message.link, let url = URL(string: link) {","            DeepLinkHandler.shared.handle(url)","        }","","        \/\/ Track notification open in analytics","        Analytics.track(\"notification_opened\", properties: [","            \"message_id\": message.messageCode ?? \"\",","            \"campaign_id\": message.campaignId","        ])","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Deferred registration after onboarding:"}]},{"type":"codeListing","syntax":"swift","code":["class OnboardingViewController: UIViewController {","","    @IBAction func enableNotificationsTapped(_ sender: UIButton) {","        \/\/ Show explanation before system prompt","        showNotificationBenefits { [weak self] in","            Pushwoosh.configure.registerForPushNotifications()","            self?.proceedToNextStep()","        }","    }","","    private func showNotificationBenefits(completion: @escaping () -> Void) {","        let alert = UIAlertController(","            title: \"Stay Updated\",","            message: \"Enable notifications to receive order updates, exclusive offers, and important alerts.\",","            preferredStyle: .alert","        )","        alert.addAction(UIAlertAction(title: \"Enable\", style: .default) { _ in","            completion()","        })","        alert.addAction(UIAlertAction(title: \"Not Now\", style: .cancel) { _ in","            self.proceedToNextStep()","        })","        present(alert, animated: true)","    }","}"]}],"kind":"content"}],"metadata":{"fragments":[{"text":"+ ","kind":"text"},{"kind":"identifier","text":"registerForPushNotifications"}],"navigatorTitle":[{"text":"registerForPushNotifications","kind":"identifier"}],"symbolKind":"method","title":"registerForPushNotifications","roleHeading":"Type Method","externalID":"c:objc(pl)PWConfiguration(cm)registerForPushNotifications","modules":[{"name":"PushwooshCore"}],"role":"symbol"},"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/registerForPushNotifications":{"kind":"symbol","title":"registerForPushNotifications","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerForPushNotifications","url":"\/documentation\/pushwooshcore\/pwconfiguration\/registerforpushnotifications","abstract":[{"type":"text","text":"Registers the device for push notifications."}],"role":"symbol","navigatorTitle":[{"text":"registerForPushNotifications","kind":"identifier"}],"fragments":[{"kind":"text","text":"+ "},{"text":"registerForPushNotifications","kind":"identifier"}],"type":"topic"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"type":"topic","role":"collection","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}],"url":"\/documentation\/pushwooshcore","kind":"symbol","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"kind":"symbol","title":"PWConfiguration","role":"symbol","type":"topic","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"url":"\/documentation\/pushwooshcore\/pwconfiguration","abstract":[],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"}}}
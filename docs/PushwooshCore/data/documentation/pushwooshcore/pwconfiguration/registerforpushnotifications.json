{"variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/registerforpushnotifications"]}],"kind":"symbol","metadata":{"title":"registerForPushNotifications","externalID":"c:objc(pl)PWConfiguration(cm)registerForPushNotifications","fragments":[{"kind":"text","text":"+ "},{"kind":"identifier","text":"registerForPushNotifications"}],"symbolKind":"method","modules":[{"name":"PushwooshCore"}],"navigatorTitle":[{"text":"registerForPushNotifications","kind":"identifier"}],"role":"symbol","roleHeading":"Type Method"},"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"schemaVersion":{"patch":0,"minor":3,"major":0},"abstract":[{"type":"text","text":"Registers the device for push notifications."}],"identifier":{"url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerForPushNotifications","interfaceLanguage":"occ"},"primaryContentSections":[{"declarations":[{"languages":["occ"],"platforms":["iOS"],"tokens":[{"text":"+ (","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:v","text":"void"},{"text":") ","kind":"text"},{"text":"registerForPushNotifications","kind":"identifier"},{"text":";","kind":"text"}]}],"kind":"declarations"},{"kind":"content","content":[{"type":"heading","anchor":"discussion","level":2,"text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This method initiates the push notification registration process:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Requests user permission to display notifications (alert, badge, sound)","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Registers the device with Apple Push Notification service (APNs)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Sends the device token to Pushwoosh servers"}],"type":"paragraph"}]}],"type":"orderedList"},{"type":"paragraph","inlineContent":[{"text":"The permission dialog is shown only once per app installation. If the user denies permission,","type":"text"},{"text":" ","type":"text"},{"text":"subsequent calls will not show the dialog. Users must manually enable notifications in Settings.","type":"text"}]},{"type":"heading","level":2,"text":"Example","anchor":"Example"},{"inlineContent":[{"type":"text","text":"Standard registration in AppDelegate:"}],"type":"paragraph"},{"syntax":"swift","code":["class AppDelegate: UIResponder, UIApplicationDelegate, PWMessagingDelegate {","","    func application(_ application: UIApplication,","                    didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {","","        \/\/ Configure delegate first to receive callbacks","        Pushwoosh.configure.setDelegate(self)","","        \/\/ Enable foreground notification display","        Pushwoosh.configure.setShowPushnotificationAlert(true)","","        \/\/ Register for push notifications","        Pushwoosh.configure.registerForPushNotifications()","","        return true","    }","","    \/\/ MARK: - PWMessagingDelegate","","    func pushwoosh(_ pushwoosh: Pushwoosh, onMessageReceived message: PWMessage) {","        Logger.info(\"Push received: \\(message.title ?? \"No title\")\")","","        \/\/ Handle silent push or update UI","        if message.isContentAvailable {","            performBackgroundFetch()","        }","    }","","    func pushwoosh(_ pushwoosh: Pushwoosh, onMessageOpened message: PWMessage) {","        Logger.info(\"Push opened: \\(message.title ?? \"No title\")\")","","        \/\/ Handle deep link if present","        if let link = message.link, let url = URL(string: link) {","            DeepLinkHandler.shared.handle(url)","        }","","        \/\/ Track notification open in analytics","        Analytics.track(\"notification_opened\", properties: [","            \"message_id\": message.messageCode ?? \"\",","            \"campaign_id\": message.campaignId","        ])","    }","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"Deferred registration after onboarding:","type":"text"}]},{"code":["class OnboardingViewController: UIViewController {","","    @IBAction func enableNotificationsTapped(_ sender: UIButton) {","        \/\/ Show explanation before system prompt","        showNotificationBenefits { [weak self] in","            Pushwoosh.configure.registerForPushNotifications()","            self?.proceedToNextStep()","        }","    }","","    private func showNotificationBenefits(completion: @escaping () -> Void) {","        let alert = UIAlertController(","            title: \"Stay Updated\",","            message: \"Enable notifications to receive order updates, exclusive offers, and important alerts.\",","            preferredStyle: .alert","        )","        alert.addAction(UIAlertAction(title: \"Enable\", style: .default) { _ in","            completion()","        })","        alert.addAction(UIAlertAction(title: \"Not Now\", style: .cancel) { _ in","            self.proceedToNextStep()","        })","        present(alert, animated: true)","    }","}"],"type":"codeListing","syntax":"swift"}]}],"sections":[],"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/registerForPushNotifications":{"title":"registerForPushNotifications","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerForPushNotifications","type":"topic","kind":"symbol","abstract":[{"text":"Registers the device for push notifications.","type":"text"}],"fragments":[{"text":"+ ","kind":"text"},{"text":"registerForPushNotifications","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"registerForPushNotifications"}],"role":"symbol","url":"\/documentation\/pushwooshcore\/pwconfiguration\/registerforpushnotifications"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"url":"\/documentation\/pushwooshcore\/pwconfiguration","title":"PWConfiguration","abstract":[],"fragments":[{"text":"PWConfiguration","kind":"identifier"}],"kind":"symbol","type":"topic","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration","role":"symbol"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"title":"PushwooshCore","url":"\/documentation\/pushwooshcore","kind":"symbol","role":"collection","type":"topic","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}]}}}
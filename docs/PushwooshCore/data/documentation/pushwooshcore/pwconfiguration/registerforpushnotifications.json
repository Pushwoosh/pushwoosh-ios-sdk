{"variants":[{"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/registerforpushnotifications"],"traits":[{"interfaceLanguage":"occ"}]}],"kind":"symbol","identifier":{"url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerForPushNotifications","interfaceLanguage":"occ"},"sections":[],"metadata":{"roleHeading":"Type Method","externalID":"c:objc(pl)PWConfiguration(cm)registerForPushNotifications","fragments":[{"kind":"text","text":"+ "},{"kind":"identifier","text":"registerForPushNotifications"}],"navigatorTitle":[{"text":"registerForPushNotifications","kind":"identifier"}],"modules":[{"name":"PushwooshCore"}],"role":"symbol","symbolKind":"method","title":"registerForPushNotifications"},"schemaVersion":{"patch":0,"major":0,"minor":3},"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["occ"],"platforms":["iOS"],"tokens":[{"kind":"text","text":"+ ("},{"preciseIdentifier":"c:v","kind":"typeIdentifier","text":"void"},{"kind":"text","text":") "},{"text":"registerForPushNotifications","kind":"identifier"},{"kind":"text","text":";"}]}]},{"content":[{"level":2,"anchor":"discussion","text":"Discussion","type":"heading"},{"inlineContent":[{"type":"text","text":"This method initiates the push notification registration process:"}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"text":"Requests user permission to display notifications (alert, badge, sound)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Registers the device with Apple Push Notification service (APNs)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Sends the device token to Pushwoosh servers","type":"text"}]}]}]},{"inlineContent":[{"type":"text","text":"The permission dialog is shown only once per app installation. If the user denies permission,"},{"type":"text","text":" "},{"type":"text","text":"subsequent calls will not show the dialog. Users must manually enable notifications in Settings."}],"type":"paragraph"},{"type":"heading","level":2,"text":"Example","anchor":"Example"},{"inlineContent":[{"type":"text","text":"Standard registration in AppDelegate:"}],"type":"paragraph"},{"code":["class AppDelegate: UIResponder, UIApplicationDelegate, PWMessagingDelegate {","","    func application(_ application: UIApplication,","                    didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {","","        \/\/ Configure delegate first to receive callbacks","        Pushwoosh.configure.setDelegate(self)","","        \/\/ Enable foreground notification display","        Pushwoosh.configure.setShowPushnotificationAlert(true)","","        \/\/ Register for push notifications","        Pushwoosh.configure.registerForPushNotifications()","","        return true","    }","","    \/\/ MARK: - PWMessagingDelegate","","    func pushwoosh(_ pushwoosh: Pushwoosh, onMessageReceived message: PWMessage) {","        Logger.info(\"Push received: \\(message.title ?? \"No title\")\")","","        \/\/ Handle silent push or update UI","        if message.isContentAvailable {","            performBackgroundFetch()","        }","    }","","    func pushwoosh(_ pushwoosh: Pushwoosh, onMessageOpened message: PWMessage) {","        Logger.info(\"Push opened: \\(message.title ?? \"No title\")\")","","        \/\/ Handle deep link if present","        if let link = message.link, let url = URL(string: link) {","            DeepLinkHandler.shared.handle(url)","        }","","        \/\/ Track notification open in analytics","        Analytics.track(\"notification_opened\", properties: [","            \"message_id\": message.messageCode ?? \"\",","            \"campaign_id\": message.campaignId","        ])","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Deferred registration after onboarding:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["class OnboardingViewController: UIViewController {","","    @IBAction func enableNotificationsTapped(_ sender: UIButton) {","        \/\/ Show explanation before system prompt","        showNotificationBenefits { [weak self] in","            Pushwoosh.configure.registerForPushNotifications()","            self?.proceedToNextStep()","        }","    }","","    private func showNotificationBenefits(completion: @escaping () -> Void) {","        let alert = UIAlertController(","            title: \"Stay Updated\",","            message: \"Enable notifications to receive order updates, exclusive offers, and important alerts.\",","            preferredStyle: .alert","        )","        alert.addAction(UIAlertAction(title: \"Enable\", style: .default) { _ in","            completion()","        })","        alert.addAction(UIAlertAction(title: \"Not Now\", style: .cancel) { _ in","            self.proceedToNextStep()","        })","        present(alert, animated: true)","    }","}"]}],"kind":"content"}],"abstract":[{"text":"Registers the device for push notifications.","type":"text"}],"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"type":"topic","kind":"symbol","abstract":[],"title":"PWConfiguration","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration","role":"symbol","url":"\/documentation\/pushwooshcore\/pwconfiguration"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"role":"collection","url":"\/documentation\/pushwooshcore","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","type":"topic","kind":"symbol","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/registerForPushNotifications":{"type":"topic","fragments":[{"text":"+ ","kind":"text"},{"kind":"identifier","text":"registerForPushNotifications"}],"navigatorTitle":[{"kind":"identifier","text":"registerForPushNotifications"}],"kind":"symbol","role":"symbol","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerForPushNotifications","title":"registerForPushNotifications","abstract":[{"type":"text","text":"Registers the device for push notifications."}],"url":"\/documentation\/pushwooshcore\/pwconfiguration\/registerforpushnotifications"}}}
{"sections":[],"primaryContentSections":[{"declarations":[{"platforms":["iOS"],"tokens":[{"text":"+ (","kind":"text"},{"text":"NSString","kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSString"},{"text":" *) ","kind":"text"},{"text":"getCustomPushData:","kind":"identifier"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSDictionary","text":"NSDictionary"},{"text":" *) ","kind":"text"},{"text":"pushNotification","kind":"internalParam"},{"text":";","kind":"text"}],"languages":["occ"]}],"kind":"declarations"},{"kind":"parameters","parameters":[{"name":"pushNotification","content":[{"inlineContent":[{"type":"text","text":"The notification payload dictionary (userInfo from push)."}],"type":"paragraph"}]}]},{"kind":"content","content":[{"level":2,"text":"Return Value","anchor":"return-value","type":"heading"},{"inlineContent":[{"type":"text","text":"The custom data as a JSON string, or nil if no custom data present."}],"type":"paragraph"}]},{"content":[{"level":2,"type":"heading","text":"Discussion","anchor":"discussion"},{"type":"paragraph","inlineContent":[{"text":"Retrieves the custom JSON data that was sent with a push notification.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Custom data is set in Pushwoosh when creating the push and can contain"},{"type":"text","text":" "},{"type":"text","text":"any JSON-serializable content for app-specific handling."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The returned string is JSON-formatted and must be parsed by your app."},{"text":" ","type":"text"},{"type":"text","text":"Returns nil if no custom data was included in the notification."}]},{"type":"heading","anchor":"Example","text":"Example","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Handle push notifications with custom data:"}]},{"type":"codeListing","syntax":"swift","code":["class PushNotificationHandler: PWMessagingDelegate {","","    func pushwoosh(_ pushwoosh: Pushwoosh!,","                  onMessageReceived message: [AnyHashable: Any]!) {","","        \/\/ Extract and parse custom data","        guard let customDataString = Pushwoosh.configure.getCustomPushData(message),","              let customData = parseJSON(customDataString) else {","            handleStandardNotification(message)","            return","        }","","        \/\/ Route based on custom data","        if let deepLink = customData[\"deep_link\"] as? String {","            DeepLinkRouter.shared.navigate(to: deepLink)","        }","","        if let action = customData[\"action\"] as? String {","            handleCustomAction(action, data: customData)","        }","","        if let productId = customData[\"product_id\"] as? String {","            showProductDetail(productId)","        }","","        \/\/ Track custom data receipt","        Analytics.track(\"push_with_custom_data\", properties: [","            \"data_keys\": Array(customData.keys)","        ])","    }","","    private func parseJSON(_ jsonString: String) -> [String: Any]? {","        guard let data = jsonString.data(using: .utf8) else { return nil }","        return try? JSONSerialization.jsonObject(with: data) as? [String: Any]","    }","","    private func handleCustomAction(_ action: String, data: [String: Any]) {","        switch action {","        case \"show_promo\":","            if let promoCode = data[\"promo_code\"] as? String {","                PromoManager.shared.showPromo(code: promoCode)","            }","        case \"update_content\":","            ContentManager.shared.refreshContent()","        case \"show_survey\":","            if let surveyId = data[\"survey_id\"] as? String {","                SurveyManager.shared.presentSurvey(id: surveyId)","            }","        default:","            Logger.warning(\"Unknown custom action: \\(action)\")","        }","    }","}"]}],"kind":"content"}],"abstract":[{"type":"text","text":"Extracts custom data from a push notification payload."}],"identifier":{"url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/getCustomPushData:","interfaceLanguage":"occ"},"metadata":{"fragments":[{"text":"+ ","kind":"text"},{"kind":"identifier","text":"getCustomPushData:"}],"modules":[{"name":"PushwooshCore"}],"role":"symbol","roleHeading":"Type Method","navigatorTitle":[{"text":"getCustomPushData:","kind":"identifier"}],"externalID":"c:objc(pl)PWConfiguration(cm)getCustomPushData:","symbolKind":"method","title":"getCustomPushData:"},"variants":[{"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/getcustompushdata:"],"traits":[{"interfaceLanguage":"occ"}]}],"kind":"symbol","schemaVersion":{"patch":0,"minor":3,"major":0},"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"kind":"symbol","title":"PWConfiguration","role":"symbol","type":"topic","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"url":"\/documentation\/pushwooshcore\/pwconfiguration","abstract":[],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/getCustomPushData:":{"url":"\/documentation\/pushwooshcore\/pwconfiguration\/getcustompushdata:","abstract":[{"type":"text","text":"Extracts custom data from a push notification payload."}],"kind":"symbol","title":"getCustomPushData:","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/getCustomPushData:","navigatorTitle":[{"text":"getCustomPushData:","kind":"identifier"}],"role":"symbol","fragments":[{"text":"+ ","kind":"text"},{"text":"getCustomPushData:","kind":"identifier"}],"type":"topic"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"type":"topic","role":"collection","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}],"url":"\/documentation\/pushwooshcore","kind":"symbol","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore"}}}
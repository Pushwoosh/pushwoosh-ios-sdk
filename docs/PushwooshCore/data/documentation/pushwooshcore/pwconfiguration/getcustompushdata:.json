{"metadata":{"symbolKind":"method","modules":[{"name":"PushwooshCore"}],"title":"getCustomPushData:","navigatorTitle":[{"text":"getCustomPushData:","kind":"identifier"}],"externalID":"c:objc(pl)PWConfiguration(cm)getCustomPushData:","role":"symbol","fragments":[{"text":"+ ","kind":"text"},{"kind":"identifier","text":"getCustomPushData:"}],"roleHeading":"Type Method"},"schemaVersion":{"major":0,"patch":0,"minor":3},"identifier":{"interfaceLanguage":"occ","url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/getCustomPushData:"},"primaryContentSections":[{"declarations":[{"platforms":["iOS"],"languages":["occ"],"tokens":[{"text":"+ (","kind":"text"},{"text":"NSString","kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSString"},{"text":" *) ","kind":"text"},{"text":"getCustomPushData:","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSDictionary","text":"NSDictionary"},{"kind":"text","text":" *) "},{"text":"pushNotification","kind":"internalParam"},{"kind":"text","text":";"}]}],"kind":"declarations"},{"parameters":[{"content":[{"inlineContent":[{"type":"text","text":"The notification payload dictionary (userInfo from push)."}],"type":"paragraph"}],"name":"pushNotification"}],"kind":"parameters"},{"kind":"content","content":[{"level":2,"anchor":"return-value","text":"Return Value","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"The custom data as a JSON string, or nil if no custom data present.","type":"text"}]}]},{"kind":"content","content":[{"level":2,"anchor":"discussion","type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Retrieves the custom JSON data that was sent with a push notification."},{"text":" ","type":"text"},{"type":"text","text":"Custom data is set in Pushwoosh when creating the push and can contain"},{"type":"text","text":" "},{"text":"any JSON-serializable content for app-specific handling.","type":"text"}]},{"inlineContent":[{"type":"text","text":"The returned string is JSON-formatted and must be parsed by your app."},{"type":"text","text":" "},{"text":"Returns nil if no custom data was included in the notification.","type":"text"}],"type":"paragraph"},{"anchor":"Example","type":"heading","level":2,"text":"Example"},{"inlineContent":[{"type":"text","text":"Handle push notifications with custom data:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["class PushNotificationHandler: PWMessagingDelegate {","","    func pushwoosh(_ pushwoosh: Pushwoosh!,","                  onMessageReceived message: [AnyHashable: Any]!) {","","        \/\/ Extract and parse custom data","        guard let customDataString = Pushwoosh.configure.getCustomPushData(message),","              let customData = parseJSON(customDataString) else {","            handleStandardNotification(message)","            return","        }","","        \/\/ Route based on custom data","        if let deepLink = customData[\"deep_link\"] as? String {","            DeepLinkRouter.shared.navigate(to: deepLink)","        }","","        if let action = customData[\"action\"] as? String {","            handleCustomAction(action, data: customData)","        }","","        if let productId = customData[\"product_id\"] as? String {","            showProductDetail(productId)","        }","","        \/\/ Track custom data receipt","        Analytics.track(\"push_with_custom_data\", properties: [","            \"data_keys\": Array(customData.keys)","        ])","    }","","    private func parseJSON(_ jsonString: String) -> [String: Any]? {","        guard let data = jsonString.data(using: .utf8) else { return nil }","        return try? JSONSerialization.jsonObject(with: data) as? [String: Any]","    }","","    private func handleCustomAction(_ action: String, data: [String: Any]) {","        switch action {","        case \"show_promo\":","            if let promoCode = data[\"promo_code\"] as? String {","                PromoManager.shared.showPromo(code: promoCode)","            }","        case \"update_content\":","            ContentManager.shared.refreshContent()","        case \"show_survey\":","            if let surveyId = data[\"survey_id\"] as? String {","                SurveyManager.shared.presentSurvey(id: surveyId)","            }","        default:","            Logger.warning(\"Unknown custom action: \\(action)\")","        }","    }","}"]}]}],"kind":"symbol","hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"abstract":[{"type":"text","text":"Extracts custom data from a push notification payload."}],"sections":[],"variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/getcustompushdata:"]}],"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"role":"collection","url":"\/documentation\/pushwooshcore","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","type":"topic","kind":"symbol","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/getCustomPushData:":{"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/getCustomPushData:","url":"\/documentation\/pushwooshcore\/pwconfiguration\/getcustompushdata:","role":"symbol","fragments":[{"text":"+ ","kind":"text"},{"text":"getCustomPushData:","kind":"identifier"}],"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"getCustomPushData:"}],"title":"getCustomPushData:","type":"topic","abstract":[{"type":"text","text":"Extracts custom data from a push notification payload."}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"type":"topic","kind":"symbol","abstract":[],"title":"PWConfiguration","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration","role":"symbol","url":"\/documentation\/pushwooshcore\/pwconfiguration"}}}
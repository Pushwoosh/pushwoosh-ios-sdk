{"kind":"symbol","sections":[],"identifier":{"interfaceLanguage":"occ","url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/getCustomPushData:"},"variants":[{"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/getcustompushdata:"],"traits":[{"interfaceLanguage":"occ"}]}],"abstract":[{"type":"text","text":"Extracts custom data from a push notification payload."}],"schemaVersion":{"patch":0,"major":0,"minor":3},"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"metadata":{"navigatorTitle":[{"kind":"identifier","text":"getCustomPushData:"}],"role":"symbol","symbolKind":"method","modules":[{"name":"PushwooshCore"}],"externalID":"c:objc(pl)PWConfiguration(cm)getCustomPushData:","roleHeading":"Type Method","fragments":[{"text":"+ ","kind":"text"},{"kind":"identifier","text":"getCustomPushData:"}],"title":"getCustomPushData:"},"primaryContentSections":[{"declarations":[{"languages":["occ"],"tokens":[{"kind":"text","text":"+ ("},{"preciseIdentifier":"c:objc(cs)NSString","text":"NSString","kind":"typeIdentifier"},{"text":" *) ","kind":"text"},{"kind":"identifier","text":"getCustomPushData:"},{"kind":"text","text":"("},{"text":"NSDictionary","preciseIdentifier":"c:objc(cs)NSDictionary","kind":"typeIdentifier"},{"kind":"text","text":" *) "},{"text":"pushNotification","kind":"internalParam"},{"text":";","kind":"text"}],"platforms":["iOS"]}],"kind":"declarations"},{"kind":"parameters","parameters":[{"name":"pushNotification","content":[{"inlineContent":[{"type":"text","text":"The notification payload dictionary (userInfo from push)."}],"type":"paragraph"}]}]},{"content":[{"text":"Return Value","type":"heading","level":2,"anchor":"return-value"},{"inlineContent":[{"text":"The custom data as a JSON string, or nil if no custom data present.","type":"text"}],"type":"paragraph"}],"kind":"content"},{"kind":"content","content":[{"type":"heading","text":"Discussion","level":2,"anchor":"discussion"},{"inlineContent":[{"text":"Retrieves the custom JSON data that was sent with a push notification.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Custom data is set in Pushwoosh when creating the push and can contain"},{"text":" ","type":"text"},{"type":"text","text":"any JSON-serializable content for app-specific handling."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"The returned string is JSON-formatted and must be parsed by your app.","type":"text"},{"text":" ","type":"text"},{"text":"Returns nil if no custom data was included in the notification.","type":"text"}]},{"level":2,"text":"Example","type":"heading","anchor":"Example"},{"type":"paragraph","inlineContent":[{"text":"Handle push notifications with custom data:","type":"text"}]},{"code":["class PushNotificationHandler: PWMessagingDelegate {","","    func pushwoosh(_ pushwoosh: Pushwoosh!,","                  onMessageReceived message: [AnyHashable: Any]!) {","","        \/\/ Extract and parse custom data","        guard let customDataString = Pushwoosh.configure.getCustomPushData(message),","              let customData = parseJSON(customDataString) else {","            handleStandardNotification(message)","            return","        }","","        \/\/ Route based on custom data","        if let deepLink = customData[\"deep_link\"] as? String {","            DeepLinkRouter.shared.navigate(to: deepLink)","        }","","        if let action = customData[\"action\"] as? String {","            handleCustomAction(action, data: customData)","        }","","        if let productId = customData[\"product_id\"] as? String {","            showProductDetail(productId)","        }","","        \/\/ Track custom data receipt","        Analytics.track(\"push_with_custom_data\", properties: [","            \"data_keys\": Array(customData.keys)","        ])","    }","","    private func parseJSON(_ jsonString: String) -> [String: Any]? {","        guard let data = jsonString.data(using: .utf8) else { return nil }","        return try? JSONSerialization.jsonObject(with: data) as? [String: Any]","    }","","    private func handleCustomAction(_ action: String, data: [String: Any]) {","        switch action {","        case \"show_promo\":","            if let promoCode = data[\"promo_code\"] as? String {","                PromoManager.shared.showPromo(code: promoCode)","            }","        case \"update_content\":","            ContentManager.shared.refreshContent()","        case \"show_survey\":","            if let surveyId = data[\"survey_id\"] as? String {","                SurveyManager.shared.presentSurvey(id: surveyId)","            }","        default:","            Logger.warning(\"Unknown custom action: \\(action)\")","        }","    }","}"],"type":"codeListing","syntax":"swift"}]}],"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"title":"PushwooshCore","url":"\/documentation\/pushwooshcore","kind":"symbol","role":"collection","type":"topic","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"url":"\/documentation\/pushwooshcore\/pwconfiguration","title":"PWConfiguration","abstract":[],"fragments":[{"text":"PWConfiguration","kind":"identifier"}],"kind":"symbol","type":"topic","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration","role":"symbol"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/getCustomPushData:":{"navigatorTitle":[{"text":"getCustomPushData:","kind":"identifier"}],"type":"topic","url":"\/documentation\/pushwooshcore\/pwconfiguration\/getcustompushdata:","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/getCustomPushData:","abstract":[{"text":"Extracts custom data from a push notification payload.","type":"text"}],"role":"symbol","title":"getCustomPushData:","kind":"symbol","fragments":[{"text":"+ ","kind":"text"},{"kind":"identifier","text":"getCustomPushData:"}]}}}
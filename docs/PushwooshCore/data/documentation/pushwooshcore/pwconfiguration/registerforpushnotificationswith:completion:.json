{"identifier":{"url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerForPushNotificationsWith:completion:","interfaceLanguage":"occ"},"schemaVersion":{"patch":0,"minor":3,"major":0},"sections":[],"metadata":{"externalID":"c:objc(pl)PWConfiguration(cm)registerForPushNotificationsWith:completion:","roleHeading":"Type Method","symbolKind":"method","title":"registerForPushNotificationsWith:completion:","fragments":[{"kind":"text","text":"+ "},{"kind":"identifier","text":"registerForPushNotificationsWith:completion:"}],"navigatorTitle":[{"text":"registerForPushNotificationsWith:completion:","kind":"identifier"}],"modules":[{"name":"PushwooshCore"}],"role":"symbol"},"kind":"symbol","hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"primaryContentSections":[{"declarations":[{"platforms":["iOS"],"languages":["occ"],"tokens":[{"text":"+ (","kind":"text"},{"kind":"typeIdentifier","text":"void","preciseIdentifier":"c:v"},{"text":") ","kind":"text"},{"kind":"identifier","text":"registerForPushNotificationsWith:"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSDictionary","text":"NSDictionary"},{"kind":"text","text":" *) "},{"text":"tags","kind":"internalParam"},{"kind":"text","text":" "},{"kind":"identifier","text":"completion:"},{"kind":"text","text":"("},{"preciseIdentifier":"c:BFv(#*$objc(cs)NSString#*$objc(cs)NSError)","kind":"typeIdentifier","text":"void (^)(NSString *, NSError *)"},{"kind":"text","text":") "},{"kind":"internalParam","text":"completion"},{"text":";","kind":"text"}]}],"kind":"declarations"},{"kind":"parameters","parameters":[{"name":"tags","content":[{"type":"paragraph","inlineContent":[{"text":"Dictionary of tag names and values to set during registration.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Supported value types: NSString, NSNumber, NSArray (for list tags)."}]}]},{"content":[{"inlineContent":[{"text":"Block called when registration completes.","type":"text"},{"type":"text","text":" "},{"text":"Provides the push token on success, or an error on failure.","type":"text"}],"type":"paragraph"}],"name":"completion"}]},{"content":[{"level":2,"type":"heading","anchor":"discussion","text":"Discussion"},{"type":"paragraph","inlineContent":[{"text":"The most comprehensive registration method that combines:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"System push permission request","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Pushwoosh server registration"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Initial tag assignment"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Completion callback for status handling"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This is ideal for onboarding flows where you need to track registration success"},{"text":" ","type":"text"},{"text":"and have user data available to set as tags.","type":"text"}]},{"anchor":"Example","type":"heading","level":2,"text":"Example"},{"type":"paragraph","inlineContent":[{"text":"Complete onboarding registration with error handling and analytics:","type":"text"}]},{"code":["class OnboardingManager {","","    func completeOnboarding(preferences: UserPreferences,","                           completion: @escaping (Result<Void, Error>) -> Void) {","","        let onboardingTags: [String: Any] = [","            \"onboarding_completed\": true,","            \"notification_preferences\": preferences.categories.map { $0.rawValue },","            \"preferred_time\": preferences.preferredNotificationTime,","            \"timezone\": TimeZone.current.identifier,","            \"device_language\": Locale.current.languageCode ?? \"en\"","        ]","","        Pushwoosh.configure.registerForPushNotifications(with: onboardingTags) { token, error in","            if let error = error {","                Analytics.track(\"onboarding_push_failed\", properties: [","                    \"error_code\": (error as NSError).code,","                    \"error_domain\": (error as NSError).domain","                ])","                completion(.failure(error))","                return","            }","","            let pushEnabled = token != nil","            Analytics.track(\"onboarding_completed\", properties: [","                \"push_enabled\": pushEnabled,","                \"categories_count\": preferences.categories.count","            ])","","            UserDefaults.standard.set(true, forKey: \"onboarding_completed\")","            completion(.success(()))","        }","    }","}"],"type":"codeListing","syntax":"swift"}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/registerforpushnotificationswith:completion:"]}],"abstract":[{"type":"text","text":"Registers the device for push notifications with initial tags and a completion handler."}],"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"title":"PushwooshCore","url":"\/documentation\/pushwooshcore","kind":"symbol","role":"collection","type":"topic","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/registerForPushNotificationsWith:completion:":{"role":"symbol","abstract":[{"text":"Registers the device for push notifications with initial tags and a completion handler.","type":"text"}],"title":"registerForPushNotificationsWith:completion:","url":"\/documentation\/pushwooshcore\/pwconfiguration\/registerforpushnotificationswith:completion:","kind":"symbol","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/registerForPushNotificationsWith:completion:","type":"topic","fragments":[{"text":"+ ","kind":"text"},{"text":"registerForPushNotificationsWith:completion:","kind":"identifier"}],"navigatorTitle":[{"text":"registerForPushNotificationsWith:completion:","kind":"identifier"}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"url":"\/documentation\/pushwooshcore\/pwconfiguration","title":"PWConfiguration","abstract":[],"fragments":[{"text":"PWConfiguration","kind":"identifier"}],"kind":"symbol","type":"topic","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration","role":"symbol"}}}
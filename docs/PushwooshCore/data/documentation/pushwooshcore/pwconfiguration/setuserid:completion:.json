{"identifier":{"url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setUserId:completion:","interfaceLanguage":"occ"},"variants":[{"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/setuserid:completion:"],"traits":[{"interfaceLanguage":"occ"}]}],"primaryContentSections":[{"declarations":[{"languages":["occ"],"tokens":[{"text":"+ (","kind":"text"},{"preciseIdentifier":"c:v","kind":"typeIdentifier","text":"void"},{"text":") ","kind":"text"},{"kind":"identifier","text":"setUserId:"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"NSString","preciseIdentifier":"c:objc(cs)NSString"},{"text":" *) ","kind":"text"},{"kind":"internalParam","text":"userId"},{"kind":"text","text":" "},{"text":"completion:","kind":"identifier"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"c:v","text":"void"},{"text":" (^","kind":"text"},{"text":")(","kind":"text"},{"text":"NSError","preciseIdentifier":"c:objc(cs)NSError","kind":"typeIdentifier"},{"text":" * ","kind":"text"},{"kind":"internalParam","text":"error"},{"text":")) ","kind":"text"},{"text":"completion","kind":"internalParam"},{"text":";","kind":"text"}],"platforms":["iOS"]}],"kind":"declarations"},{"parameters":[{"content":[{"inlineContent":[{"text":"The custom user identifier (e.g., database ID, UUID, username).","type":"text"}],"type":"paragraph"}],"name":"userId"},{"name":"completion","content":[{"type":"paragraph","inlineContent":[{"text":"Block called when the operation completes.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Receives nil on success, or an NSError on failure."}]}]}],"kind":"parameters"},{"content":[{"level":2,"anchor":"discussion","type":"heading","text":"Discussion"},{"inlineContent":[{"type":"text","text":"Same as "},{"type":"codeVoice","code":"setUserId:"},{"type":"text","text":" but provides callback when the server operation completes."},{"text":" ","type":"text"},{"text":"Use this when you need to ensure the user ID is set before performing","type":"text"},{"type":"text","text":" "},{"text":"dependent operations like merging user data or tracking critical events.","type":"text"}],"type":"paragraph"},{"level":2,"text":"Example","anchor":"Example","type":"heading"},{"inlineContent":[{"type":"text","text":"Handle login with guaranteed user ID synchronization:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["class LoginCoordinator {","","    func performLogin(credentials: Credentials,","                      completion: @escaping (Result<User, Error>) -> Void) {","","        APIClient.shared.login(credentials) { result in","            switch result {","            case .success(let user):","                \/\/ Set user ID with confirmation before proceeding","                Pushwoosh.configure.setUserId(user.id) { error in","                    if let error = error {","                        Logger.warning(\"User ID sync failed: \\(error.localizedDescription)\")","                        \/\/ Continue anyway - local state is still valid","                    }","","                    \/\/ Now safe to track login event with correct user attribution","                    Pushwoosh.configure.setTags([","                        \"logged_in\": true,","                        \"last_login\": ISO8601DateFormatter().string(from: Date()),","                        \"login_method\": credentials.method.rawValue","                    ])","","                    \/\/ Set email if available","                    if let email = user.email {","                        Pushwoosh.configure.setEmail(email)","                    }","","                    completion(.success(user))","                }","","            case .failure(let error):","                completion(.failure(error))","            }","        }","    }","}"]}],"kind":"content"}],"kind":"symbol","hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"sections":[],"schemaVersion":{"major":0,"patch":0,"minor":3},"abstract":[{"text":"Sets a custom user identifier with completion confirmation.","type":"text"}],"metadata":{"navigatorTitle":[{"kind":"identifier","text":"setUserId:completion:"}],"title":"setUserId:completion:","role":"symbol","symbolKind":"method","modules":[{"name":"PushwooshCore"}],"externalID":"c:objc(pl)PWConfiguration(cm)setUserId:completion:","fragments":[{"text":"+ ","kind":"text"},{"text":"setUserId:completion:","kind":"identifier"}],"roleHeading":"Type Method"},"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/setUserId:completion:":{"kind":"symbol","navigatorTitle":[{"text":"setUserId:completion:","kind":"identifier"}],"title":"setUserId:completion:","role":"symbol","type":"topic","fragments":[{"kind":"text","text":"+ "},{"text":"setUserId:completion:","kind":"identifier"}],"url":"\/documentation\/pushwooshcore\/pwconfiguration\/setuserid:completion:","abstract":[{"text":"Sets a custom user identifier with completion confirmation.","type":"text"}],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setUserId:completion:"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"kind":"symbol","title":"PWConfiguration","role":"symbol","type":"topic","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"url":"\/documentation\/pushwooshcore\/pwconfiguration","abstract":[],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"type":"topic","role":"collection","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}],"url":"\/documentation\/pushwooshcore","kind":"symbol","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore"}}}
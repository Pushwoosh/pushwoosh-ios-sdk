{"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"primaryContentSections":[{"declarations":[{"tokens":[{"text":"+ (","kind":"text"},{"text":"void","kind":"typeIdentifier","preciseIdentifier":"c:v"},{"kind":"text","text":") "},{"kind":"identifier","text":"loadTags:"},{"text":"(","kind":"text"},{"text":"void","kind":"typeIdentifier","preciseIdentifier":"c:v"},{"text":" (^","kind":"text"},{"text":")(","kind":"text"},{"text":"NSDictionary","preciseIdentifier":"c:objc(cs)NSDictionary","kind":"typeIdentifier"},{"text":" * ","kind":"text"},{"kind":"internalParam","text":"tags"},{"text":")) ","kind":"text"},{"text":"successBlock","kind":"internalParam"},{"text":" ","kind":"text"},{"kind":"identifier","text":"error:"},{"text":"(","kind":"text"},{"preciseIdentifier":"c:v","text":"void","kind":"typeIdentifier"},{"kind":"text","text":" (^"},{"kind":"text","text":")("},{"text":"NSError","kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSError"},{"text":" * ","kind":"text"},{"text":"error","kind":"internalParam"},{"text":")) ","kind":"text"},{"text":"errorBlock","kind":"internalParam"},{"kind":"text","text":";"}],"platforms":["iOS"],"languages":["occ"]}],"kind":"declarations"},{"kind":"parameters","parameters":[{"name":"successBlock","content":[{"inlineContent":[{"type":"text","text":"Block called when tags are successfully retrieved."},{"type":"text","text":" "},{"type":"text","text":"Receives a dictionary containing all device tags."}],"type":"paragraph"}]},{"name":"errorBlock","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Block called if the request fails."},{"type":"text","text":" "},{"text":"Receives an error describing the failure.","type":"text"}]}]}]},{"content":[{"type":"heading","text":"Discussion","anchor":"discussion","level":2},{"inlineContent":[{"text":"Fetches all tags currently set for this device. Tags are returned as a dictionary where keys","type":"text"},{"text":" ","type":"text"},{"text":"are tag names and values are the corresponding tag values.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use this to sync local app state with server-side tags, or to verify tag values."}]},{"anchor":"Example","type":"heading","level":2,"text":"Example"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Sync user preferences from Pushwoosh tags on app launch:"}]},{"type":"codeListing","syntax":"swift","code":["class UserPreferencesSync {","","    func syncPreferencesFromServer(completion: @escaping (Result<UserPreferences, Error>) -> Void) {","        Pushwoosh.configure.loadTags({ [weak self] tags in","            guard let tags = tags else {","                completion(.success(UserPreferences.default))","                return","            }","","            let preferences = UserPreferences(","                isPremium: tags[\"is_premium\"] as? Bool ?? false,","                subscriptionTier: tags[\"subscription_tier\"] as? String,","                favoriteCategories: tags[\"favorite_categories\"] as? [String] ?? [],","                notificationPreferences: self?.parseNotificationPrefs(from: tags) ?? .default,","                lastSyncDate: Date()","            )","","            \/\/ Cache locally","            self?.cachePreferences(preferences)","","            completion(.success(preferences))","            Logger.info(\"User preferences synced from server\")","","        }, error: { error in","            Logger.error(\"Failed to load tags: \\(error?.localizedDescription ?? \"Unknown error\")\")","","            \/\/ Fall back to cached preferences","            if let cached = self.loadCachedPreferences() {","                completion(.success(cached))","            } else {","                completion(.failure(error ?? PushwooshError.unknown))","            }","        })","    }","","    private func parseNotificationPrefs(from tags: [AnyHashable: Any]) -> NotificationPreferences {","        return NotificationPreferences(","            marketingEnabled: tags[\"marketing_notifications\"] as? Bool ?? true,","            transactionalEnabled: tags[\"transactional_notifications\"] as? Bool ?? true,","            frequencyCap: tags[\"notification_frequency\"] as? String ?? \"normal\"","        )","    }","}"]}],"kind":"content"}],"abstract":[{"type":"text","text":"Retrieves the current device’s tags from the Pushwoosh server."}],"identifier":{"url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/loadTags:error:","interfaceLanguage":"occ"},"metadata":{"fragments":[{"text":"+ ","kind":"text"},{"text":"loadTags:error:","kind":"identifier"}],"symbolKind":"method","roleHeading":"Type Method","externalID":"c:objc(pl)PWConfiguration(cm)loadTags:error:","modules":[{"name":"PushwooshCore"}],"role":"symbol","navigatorTitle":[{"text":"loadTags:error:","kind":"identifier"}],"title":"loadTags:error:"},"sections":[],"schemaVersion":{"minor":3,"major":0,"patch":0},"kind":"symbol","variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/loadtags:error:"]}],"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/loadTags:error:":{"fragments":[{"text":"+ ","kind":"text"},{"text":"loadTags:error:","kind":"identifier"}],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/loadTags:error:","kind":"symbol","url":"\/documentation\/pushwooshcore\/pwconfiguration\/loadtags:error:","abstract":[{"type":"text","text":"Retrieves the current device’s tags from the Pushwoosh server."}],"type":"topic","navigatorTitle":[{"text":"loadTags:error:","kind":"identifier"}],"title":"loadTags:error:","role":"symbol"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"type":"topic","kind":"symbol","abstract":[],"title":"PWConfiguration","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration","role":"symbol","url":"\/documentation\/pushwooshcore\/pwconfiguration"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"role":"collection","url":"\/documentation\/pushwooshcore","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","type":"topic","kind":"symbol","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}]}}}
{"identifier":{"url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setDelegate:","interfaceLanguage":"occ"},"schemaVersion":{"major":0,"minor":3,"patch":0},"abstract":[{"text":"Sets the delegate for receiving push notification events.","type":"text"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"text","text":"+ ("},{"preciseIdentifier":"c:v","kind":"typeIdentifier","text":"void"},{"text":") ","kind":"text"},{"kind":"identifier","text":"setDelegate:"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","text":"id<PWMessagingDelegate>","preciseIdentifier":"c:Qoobjc(pl)PWMessagingDelegate"},{"text":") ","kind":"text"},{"text":"delegate","kind":"internalParam"},{"text":";","kind":"text"}],"languages":["occ"],"platforms":["iOS"]}]},{"kind":"parameters","parameters":[{"name":"delegate","content":[{"type":"paragraph","inlineContent":[{"text":"Object implementing PWMessagingDelegate protocol, or nil to remove the delegate","type":"text"}]}]}]},{"content":[{"type":"heading","text":"Discussion","level":2,"anchor":"discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The delegate will receive callbacks when:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"A push notification is received (foreground or background)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"The user taps on a push notification"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Rich media is about to be displayed"}]}]}]},{"inlineContent":[{"type":"text","text":"Set the delegate before calling "},{"type":"codeVoice","code":"registerForPushNotifications"},{"text":" to ensure you receive","type":"text"},{"type":"text","text":" "},{"type":"text","text":"all notification events, including those that launched the app."}],"type":"paragraph"},{"type":"heading","level":2,"anchor":"Example","text":"Example"},{"inlineContent":[{"type":"text","text":"Implement comprehensive notification handling:"}],"type":"paragraph"},{"code":["class NotificationCoordinator: NSObject, PWMessagingDelegate {","","    static let shared = NotificationCoordinator()","","    func setup() {","        Pushwoosh.configure.setDelegate(self)","    }","","    \/\/ MARK: - PWMessagingDelegate","","    func pushwoosh(_ pushwoosh: Pushwoosh, onMessageReceived message: PWMessage) {","        Logger.info(\"Push received: \\(message.title ?? \"No title\")\")","","        \/\/ Handle silent push","        if message.isContentAvailable {","            handleSilentPush(message)","            return","        }","","        \/\/ Handle foreground notification","        if message.isForegroundMessage {","            handleForegroundNotification(message)","        }","","        \/\/ Update badge count","        updateBadgeCount(message.badge)","","        \/\/ Track in analytics","        Analytics.track(\"push_received\", properties: buildAnalyticsProperties(from: message))","    }","","    func pushwoosh(_ pushwoosh: Pushwoosh, onMessageOpened message: PWMessage) {","        Logger.info(\"Push opened: \\(message.title ?? \"No title\")\")","","        \/\/ Track open in analytics","        Analytics.track(\"push_opened\", properties: buildAnalyticsProperties(from: message))","","        \/\/ Handle deep link","        if let link = message.link, let url = URL(string: link) {","            DeepLinkRouter.shared.route(to: url)","            return","        }","","        \/\/ Handle custom data actions","        if let customData = message.customData {","            handleCustomAction(customData)","        }","    }","","    private func buildAnalyticsProperties(from message: PWMessage) -> [String: Any] {","        return [","            \"message_id\": message.messageCode ?? \"\",","            \"campaign_id\": message.campaignId,","            \"title\": message.title ?? \"\",","            \"has_deep_link\": message.link != nil,","            \"is_inbox\": message.isInboxMessage","        ]","    }","","    private func handleCustomAction(_ data: [AnyHashable: Any]) {","        if let action = data[\"action\"] as? String {","            switch action {","            case \"open_product\":","                if let productId = data[\"product_id\"] as? String {","                    NavigationCoordinator.shared.showProduct(id: productId)","                }","            case \"open_promo\":","                if let promoCode = data[\"promo_code\"] as? String {","                    NavigationCoordinator.shared.showPromo(code: promoCode)","                }","            default:","                Logger.warning(\"Unknown custom action: \\(action)\")","            }","        }","    }","}"],"type":"codeListing","syntax":"swift"}],"kind":"content"}],"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"sections":[],"kind":"symbol","metadata":{"roleHeading":"Type Method","externalID":"c:objc(pl)PWConfiguration(cm)setDelegate:","modules":[{"name":"PushwooshCore"}],"navigatorTitle":[{"text":"setDelegate:","kind":"identifier"}],"symbolKind":"method","role":"symbol","title":"setDelegate:","fragments":[{"text":"+ ","kind":"text"},{"text":"setDelegate:","kind":"identifier"}]},"variants":[{"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/setdelegate:"],"traits":[{"interfaceLanguage":"occ"}]}],"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"type":"topic","kind":"symbol","abstract":[],"title":"PWConfiguration","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration","role":"symbol","url":"\/documentation\/pushwooshcore\/pwconfiguration"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"role":"collection","url":"\/documentation\/pushwooshcore","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","type":"topic","kind":"symbol","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}]},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/setDelegate:":{"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setDelegate:","url":"\/documentation\/pushwooshcore\/pwconfiguration\/setdelegate:","role":"symbol","fragments":[{"text":"+ ","kind":"text"},{"text":"setDelegate:","kind":"identifier"}],"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"setDelegate:"}],"type":"topic","title":"setDelegate:","abstract":[{"type":"text","text":"Sets the delegate for receiving push notification events."}]}}}
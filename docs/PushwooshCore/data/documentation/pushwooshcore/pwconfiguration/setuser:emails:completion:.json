{"sections":[],"metadata":{"role":"symbol","title":"setUser:emails:completion:","modules":[{"name":"PushwooshCore"}],"navigatorTitle":[{"text":"setUser:emails:completion:","kind":"identifier"}],"roleHeading":"Type Method","fragments":[{"text":"+ ","kind":"text"},{"kind":"identifier","text":"setUser:emails:completion:"}],"externalID":"c:objc(pl)PWConfiguration(cm)setUser:emails:completion:","symbolKind":"method"},"kind":"symbol","schemaVersion":{"patch":0,"major":0,"minor":3},"variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/pushwooshcore\/pwconfiguration\/setuser:emails:completion:"]}],"hierarchy":{"paths":[["doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore","doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"]]},"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["occ"],"platforms":["iOS"],"tokens":[{"text":"+ (","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:v","text":"void"},{"text":") ","kind":"text"},{"kind":"identifier","text":"setUser:"},{"text":"(","kind":"text"},{"text":"NSString","preciseIdentifier":"c:objc(cs)NSString","kind":"typeIdentifier"},{"kind":"text","text":" *) "},{"kind":"internalParam","text":"userId"},{"text":" ","kind":"text"},{"text":"emails:","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSArray","text":"NSArray"},{"kind":"text","text":" *) "},{"text":"emails","kind":"internalParam"},{"text":" ","kind":"text"},{"text":"completion:","kind":"identifier"},{"text":"(","kind":"text"},{"text":"void","kind":"typeIdentifier","preciseIdentifier":"c:v"},{"text":" (^","kind":"text"},{"kind":"text","text":")("},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSError","text":"NSError"},{"text":" * ","kind":"text"},{"kind":"internalParam","text":"error"},{"text":")) ","kind":"text"},{"text":"completion","kind":"internalParam"},{"kind":"text","text":";"}]}]},{"kind":"parameters","parameters":[{"content":[{"inlineContent":[{"text":"The custom user identifier.","type":"text"}],"type":"paragraph"}],"name":"userId"},{"content":[{"type":"paragraph","inlineContent":[{"text":"Array of email address strings.","type":"text"}]}],"name":"emails"},{"content":[{"type":"paragraph","inlineContent":[{"text":"Block called when the operation completes.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Receives nil on success, or an NSError on failure."}]}],"name":"completion"}]},{"kind":"content","content":[{"text":"Discussion","type":"heading","anchor":"discussion","level":2},{"inlineContent":[{"type":"text","text":"Atomically associates a user ID with multiple email addresses and provides"},{"type":"text","text":" "},{"text":"confirmation when the operation completes. This is the recommended method","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"for user identification during authentication flows."}],"type":"paragraph"},{"level":2,"type":"heading","anchor":"Example","text":"Example"},{"type":"paragraph","inlineContent":[{"text":"Handle OAuth login with full user setup:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["class OAuthLoginHandler {","","    func handleOAuthCallback(_ authResult: OAuthResult,","                            completion: @escaping (Result<Void, Error>) -> Void) {","","        \/\/ Extract user info from OAuth result","        let userId = authResult.userId","        var emails: [String] = []","","        if let primaryEmail = authResult.email {","            emails.append(primaryEmail)","        }","        if let verifiedEmails = authResult.verifiedEmails {","            emails.append(contentsOf: verifiedEmails.filter { $0 != authResult.email })","        }","","        \/\/ Set user and emails with confirmation","        Pushwoosh.configure.setUser(userId, emails: emails) { error in","            if let error = error {","                Logger.error(\"User setup failed: \\(error.localizedDescription)\")","                completion(.failure(error))","                return","            }","","            \/\/ User is now fully identified - set profile tags","            Pushwoosh.configure.setTags([","                \"oauth_provider\": authResult.provider.rawValue,","                \"has_profile_picture\": authResult.profilePictureURL != nil,","                \"locale\": authResult.locale ?? Locale.current.identifier,","                \"first_login\": !self.hasExistingSession(for: userId)","            ])","","            Analytics.track(\"oauth_login_complete\", properties: [","                \"provider\": authResult.provider.rawValue,","                \"email_count\": emails.count","            ])","","            completion(.success(()))","        }","    }","}"]}]}],"identifier":{"interfaceLanguage":"occ","url":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setUser:emails:completion:"},"abstract":[{"type":"text","text":"Sets user identifier and emails with completion handler."}],"references":{"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration/setUser:emails:completion:":{"url":"\/documentation\/pushwooshcore\/pwconfiguration\/setuser:emails:completion:","abstract":[{"text":"Sets user identifier and emails with completion handler.","type":"text"}],"kind":"symbol","title":"setUser:emails:completion:","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration\/setUser:emails:completion:","navigatorTitle":[{"kind":"identifier","text":"setUser:emails:completion:"}],"role":"symbol","fragments":[{"text":"+ ","kind":"text"},{"text":"setUser:emails:completion:","kind":"identifier"}],"type":"topic"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore":{"type":"topic","role":"collection","title":"PushwooshCore","abstract":[{"type":"text","text":"Core foundation module for Pushwoosh SDK."}],"url":"\/documentation\/pushwooshcore","kind":"symbol","identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore"},"doc://com.pushwoosh.PushwooshCore/documentation/PushwooshCore/PWConfiguration":{"kind":"symbol","title":"PWConfiguration","role":"symbol","type":"topic","fragments":[{"kind":"identifier","text":"PWConfiguration"}],"url":"\/documentation\/pushwooshcore\/pwconfiguration","abstract":[],"identifier":"doc:\/\/com.pushwoosh.PushwooshCore\/documentation\/PushwooshCore\/PWConfiguration"}}}